/** * Initializes video player *  * POSSIBLE FLASHVARS: * _root.context 		: local or embed *  * When context is local: * _root.video 			: The url of the FLV video file * _root.image			: The url to the placeholder image displayed before the video is played *  * When context is embed: * _root.base			: The base url where the oembed api will be accessed * _root.movie_base		: The base url from which movies will be loaded * _root.movie			: The url of the page where the video can be found *  */import com.transfusionmedia.Player.*;/* Set defaults to use if no FlashVars are available */var defaults:Array					= new Array();defaults['context']					= 'embed';defaults['base']					= 'http://aptanatv.aptana.com';defaults['movie']					= 'http://aptanatv.aptana.com/videos/debug-javascript-in-adobe-air-apps';defaults['movie_base']				= 'http://s3.amazonaws.com/com.aptana.screencasts/';defaults['video']					= 'PHPIntro.flv';defaults['image']					= 'php-intro.png';defaults['logo_click_url']			= 'http://tv.aptana.com';try {		var VIDEO_BASE_URL:String			= (_root.movie_base == undefined) ?  defaults['movie_base'] : _root.movie_base;	var context:String					= (_root.context == undefined) ? defaults['context'] : _root.context;		/* Create new player instance */	var player:Player 				= new Player();		/* Set context from FlashVars (local or embed) */	player.setContext(_root.context); 	/* Set references to player elements on the stage */	player.setPlayerControlBar(_root.playerControlsMC);	player.setVideoOptions(_root.videoOptionsMC);	player.setPreloader(_root.preloader);	player.setPlaceholder(_root.placeholder);	player.setTitleHolder(_root.titleMC);	player.setVideoOptionsOverlay(_root.videoOptionsOverlay);		/* Set the pixel width of the progress bar */	player.setProgressBarWidth(378);		/* If player is local, use FlashVars */	if (_root.context == 'local') {				var video:String			= (_root.video == undefined) ? defaults['video'] : _root.video;		var image:String			= (_root.image == undefined) ? defaults['image'] : _root.image;		var logoClickURL:String 	= defaults['logo_click_url'];		/* Set the url to the video to play (from FlashVars) */		player.setMediaURL(VIDEO_BASE_URL + _root.video);				/* Set url to placeholder image (from FlashVars) */		player.setPlaceholderURL(_root.image);				/* Set the url to which the Aptana.tv logo in the player will link */		player.setLogoClickURL(logoClickURL);			} else {				var XML_BASE_URL:String		= (_root.base == undefined) ? defaults['base'] : _root.base; 		var movie:String			= (_root.movie == undefined) ? defaults['movie'] : _root.movie;	}	/* Initialize the player with the location of the VideoPlayer object */	player.init(_root.videoPlayer);} catch (e:Error) {	trace('ERROR: ' + e.message);}